#include <Wire.h>

/********** Constants **********/
//const int BAUD = 57600;
#define BAUD 57600
const uint8_t ID = 8;
const int PACK_SIZE = 5;

const int AN_LOW = 490;
const int AN_HIGH = 530;
/********** Constants **********/

/********** Variables **********/
byte packets[PACK_SIZE];
int recData[PACK_SIZE];
/********** Variables **********/

void setup()
{
	Serial.begin(57600);
	Serial.println("**** Setup start ****");
	Wire.begin(ID);
	Serial.println("\t Wire connected.");

	//Wire.onRequest(requestEvent);
	Wire.onReceive(receiveEvent);
}


void loop()
{
	delay(500);
}

void requestEvent() {
	// What happens on request
}

void receiveEvent(int nrBytes) {
	// What happens on receive
	if(nrBytes == PACK_SIZE) {
		for(int i = 0; i < nrBytes; i++){
			recData[i] = Wire.read();
		}

		Serial.println("**** Received ****");
		Serial.println((recData[0] << 8) + recData[1]);
		Serial.println("**** Done ****");
	}
}
